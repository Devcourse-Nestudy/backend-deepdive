### **🎯 동시성 제어의 목표**

동시성 제어는 논리적으로 올바른 실행 순서인 **직렬성(Serializability)**과 시스템 장애에도 데이터를 복구할 수 있는 **회복성(Recoverability)**을 보장하여, 각 트랜잭션이 다른 트랜잭션의 영향을 받지 않는 것처럼 보이는 **격리성(Isolation)**을 달성하는 것을 목표로 합니다.

### **1. 스케줄 (Schedule)**

**스케줄**이란 여러 트랜잭션의 연산들이 실제로 데이터베이스에서 실행된 순서를 시간 순으로 나열한 것입니다.

- **시리얼 스케줄 (Serial Schedule)** 🚂
  - 트랜잭션의 연산이 **섞이지 않고**, 한 트랜잭션이 모두 끝난 후 다음 트랜잭션이 순차적으로 실행되는 방식입니다.
  - **장점**: 데이터 일관성을 완벽하게 보장하여 가장 안전합니다.
  - **단점**: 동시 처리가 불가능해 성능이 매우 낮아 현실적으로 사용하기 어렵습니다.
- **논시리얼 스케줄 (Non-serial Schedule)** intertwined
  - 두 개 이상의 트랜잭션 연산이 서로 **교차되어(interleaving)** 실행되는 방식입니다.
  - **장점**: 트랜잭션을 동시에 처리하여 데이터베이스의 전체적인 성능과 처리량을 높입니다.
  - **단점**: 잘못 제어하면 데이터 무결성이 깨질 수 있어 **직렬화 가능성(Serializability)**을 반드시 보장해야 합니다.

---

### **2. 직렬화 가능성 (Serializability)**

논시리얼 스케줄의 실행 결과가 **어떤 시리얼 스케줄의 실행 결과와 같다면**, 이 스케줄은 **직렬화 가능(Serializable)**하다고 말합니다. 즉, 동시 실행되더라도 데이터의 일관성이 깨지지 않음을 의미합니다.

### **📍 충돌 (Conflict)과 충돌 동등성 (Conflict Equivalence)**

직렬화 가능성을 판단하는 가장 대표적인 방법은 **충돌(Conflict)**을 이용하는 것입니다.

- **충돌의 조건**
  1. 서로 **다른** 트랜잭션에 속한 연산이어야 한다.
  2. 서로 **같은** 데이터에 접근해야 한다.
  3. 최소 하나는 **쓰기(Write)** 연산이어야 한다.
     _(Read-Read는 충돌이 아님)_
- **충돌의 종류**
  - **Read-Write (RW) Conflict**: 한 트랜잭션이 읽은 데이터를 다른 트랜잭션이 씀.
  - **Write-Read (WR) Conflict**: 한 트랜잭션이 쓴 데이터를 다른 트랜잭션이 읽음.
  - **Write-Write (WW) Conflict**: 두 트랜잭션이 같은 데이터를 씀.
- Conflict Equivalence
  두 스케줄이 동일한 트랜잭션들로 구성되고, 모든 충돌 연산의 상대적 순서가 같다면, 두 스케줄은 Conflict Equivalence하다고 합니다.

> Conflict Serializability
>
> 어떤 논시리얼 스케줄이 충돌이 아닌 연산들의 순서만 바꾸어 시리얼 스케줄과 동일하게 만들 수 있다면(즉, Conflict Equivalence하다면), 그 스케줄은 Conflict Serializability 가능하다고 합니다.

---

### **3. 회복 가능성 (Recoverability)**

트랜잭션이 실패(Rollback)했을 때 데이터베이스를 일관된 상태로 복구할 수 있는 성질을 의미합니다.

- **Unrecoverable Schedule**: 회복 불가능 스케줄. 커밋된 트랜잭션이 이미 롤백된 트랜잭션이 쓴 데이터를 읽은 경우로, 데이터 복구가 불가능해 허용되지 않습니다.
- **Recoverable Schedule**: 회복 가능 스케줄. 최소한의 회복성을 보장합니다. 트랜잭션은 자신이 읽은 데이터를 변경한 다른 트랜잭션이 먼저 커밋될 때까지 자신의 커밋을 기다립니다.
  - **Cascadeless Schedule**: 연쇄적인 롤백을 방지하는 스케줄. **커밋되지 않은 트랜잭션이 쓴 데이터는 읽지 않습니다 (No Dirty Read).**
  - **Strict Schedule**: 가장 엄격한 스케줄. **커밋되지 않은 트랜잭션이 쓴 데이터는 읽거나 덮어쓰지 않습니다.**

---
